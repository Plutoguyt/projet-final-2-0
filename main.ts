namespace SpriteKind {
    export const coin = SpriteKind.create()
    export const endStar = SpriteKind.create()
    export const death = SpriteKind.create()
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (mySprite.vy == 0) {
        mySprite.vy = -150
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.endStar, function (sprite, otherSprite) {
    otherSprite.destroy()
    game.over(true, effects.bubbles)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.coin, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    otherSprite.destroy()
    music.baDing.play()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.death, function (sprite, otherSprite) {
    game.over(false, effects.hearts)
})
let death1: Sprite = null
let endStar: Sprite = null
let coin: Sprite = null
let mySprite: Sprite = null
mySprite = sprites.create(img`
    . . . . . . f f f f . . . . . . 
    . . . . f f f 2 2 f f f . . . . 
    . . . f f f 2 2 2 2 f f f . . . 
    . . f f f e e e e e e f f f . . 
    . . f f e 2 2 2 2 2 2 e e f . . 
    . . f e 2 f f f f f f 2 e f . . 
    . . f f f f e e e e f f f f . . 
    . f f e f b f 4 4 f b f e f f . 
    . f e e 4 1 f d d f 1 4 e e f . 
    . . f e e d d d d d d e e f . . 
    . . . f e e 4 4 4 4 e e f . . . 
    . . e 4 f 2 2 2 2 2 2 f 4 e . . 
    . . 4 d f 2 2 2 2 2 2 f d 4 . . 
    . . 4 4 f 4 4 5 5 4 4 f 4 4 . . 
    . . . . . f f f f f f . . . . . 
    . . . . . f f . . f f . . . . . 
    `, SpriteKind.Player)
scene.cameraFollowSprite(mySprite)
scene.setBackgroundImage(img`
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    ...............................................................................................................................................................................................................................................................
    `)
tiles.setCurrentTilemap(tilemap`niveau1`)
controller.moveSprite(mySprite, 100, 0)
mySprite.ay = 350
for (let value of tiles.getTilesByType(assets.tile`myTile`)) {
    coin = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . f f f f f f f . . . . 
        . . . . f 5 5 5 5 5 5 5 f . . . 
        . . . f 5 5 4 4 4 4 4 5 5 f . . 
        . . f 5 5 4 5 5 5 5 5 4 5 5 f . 
        . . f 5 4 5 5 4 4 4 5 5 4 5 f . 
        . . f 5 4 5 4 5 5 5 4 5 4 5 f . 
        . . f 5 4 5 4 5 5 5 4 5 4 5 f . 
        . . f 5 4 5 4 5 5 5 4 5 4 5 f . 
        . . f 5 4 5 5 4 4 4 5 5 4 5 f . 
        . . f 5 5 4 5 5 5 5 5 4 5 5 f . 
        . . . f 5 5 4 4 4 4 4 5 5 f . . 
        . . . . f 5 5 5 5 5 5 5 f . . . 
        . . . . . f f f f f f f . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.coin)
    tiles.placeOnTile(coin, value)
    tiles.setTileAt(value, assets.tile`transparency16`)
}
for (let value of tiles.getTilesByType(assets.tile`myTile0`)) {
    endStar = sprites.create(img`
        1 1 . . . 1 . . 1 . . 1 . . 1 1 
        . 1 . . . . . . . . . . . . 1 . 
        . 1 1 . . f f f f f f f . 1 1 . 
        . . 1 . f a a a a a a a f . . . 
        . . . f a a 8 8 8 8 8 a a f . . 
        1 . f a a 8 c c c c c 8 a a f . 
        . . f a 8 c c a a a c c 8 a f 1 
        . . f a 8 c a b b b a c 8 a f . 
        1 . f a 8 c a b b b a c 8 a f 1 
        . . f a 8 c a b b b a c 8 a f . 
        . . f a 8 c c a a a c c 8 a f . 
        1 . f a a 8 c c c c c 8 a a f 1 
        . . . f a a 8 8 8 8 8 a a f . . 
        . 1 1 . f a a a a a a a f . 1 . 
        . 1 . . . f f f f f f f . 1 1 . 
        1 1 . . . 1 . . 1 . . 1 . . 1 1 
        `, SpriteKind.endStar)
    tiles.placeOnTile(endStar, value)
    tiles.setTileAt(value, assets.tile`transparency16`)
}
for (let value of tiles.getTilesByType(assets.tile`myTile3`)) {
    death1 = sprites.create(img`
        . . . . . 2 2 2 2 2 2 . . . . . 
        . . . 2 2 . . . . . . 2 2 . . . 
        . . 2 . . . . . . . . . . 2 . . 
        . 2 . 2 . . . . . . . . 2 . 2 . 
        . 2 . . 2 . . . . . . 2 . . 2 . 
        2 . . . . 2 . . . . 2 . . . . 2 
        2 . . . . . 2 . . 2 . . . . . 2 
        2 . . . . . . 2 . . . . . . . 2 
        2 . . . . . . . 2 . . . . . . 2 
        2 . . . . . 2 . . 2 . . . . . 2 
        2 . . . . 2 . . . . 2 . . . . 2 
        . 2 . . 2 . . . . . . 2 . . 2 . 
        . 2 . 2 . . . . . . . . 2 . 2 . 
        . . 2 . . . . . . . . . . 2 . . 
        . . . 2 2 . . . . . . 2 2 . . . 
        . . . . . 2 2 2 2 2 2 . . . . . 
        `, SpriteKind.death)
    tiles.placeOnTile(death1, value)
    tiles.setTileAt(value, assets.tile`transparency16`)
}
